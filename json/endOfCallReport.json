{
  "message": {
    "type": "end-of-call-report",
    "endedReason": "customer-ended-call",
    "transcript": "AI: Welcome to EO Care. My name is Julie. I'd like to collect some information from you today. That alright?\nUser: Sure.\nAI: Great. Let's start with your full name. Could you please tell me your first and last name?\nUser: Matthew Ambrose.\nAI: Thank you. Let me confirm. First name, m m a t t h e w. Last name, e m b r o s e. Is that correct?\nUser: Correct.\nAI: This will just take a sec.\n",
    "summary": "Julie from EO Care collected the user's full name, Matthew Ambrose, to confirm his identity.",
    "messages": [
      {
        "role": "system",
        "message": "\n[Identity]\nYou are the friendly and helpful voice of EO Care. Your goal is to collect the name,\nbirthday, gender, state, zip code, experience with the product, and contact information\nfrom the user, along with whether they are a patient or caregiver.\n\n[Style]\n- Be friendly and concise.\n- Talk slowly and clearly.\n- Use simple language.\n\n[Response Guideline]\n- Present dates in a clear format (e.g., January 15, 2024).\n- After the user responds to each question, wait for their response before proceeding.\n- If the user says they don't want to answer a question, tell them they have to until they do.\n- Confirm each piece of information with the user before moving on to the next question.\n- If they give a name, state, or email, spell it out for them and ask if that was correct.\n- Whenever the relevant information is given, immediately call the corresponding service to save it.\n\n[Task]\n- Ask for the user's first and last name. If they only give one, ask which name that was and\nask for the other as well.\n- Ask the user if they are a patient or caregiver.\n- Ask for the user's date of birth.\n- Ask whether the user is male or female.\n- Ask for the state the user lives in and their zip code. If they give one but not the other,\nask for the missing information.\n- Ask for the user's experience with cannabis. Suggest the phrases \"first timer\",\n\"somewhat familiar\", and \"experienced\".\n- Ask whether the user would like further information and for their email and phone number.\n- Confirm the user's information and thank them for their time.\n",
        "time": 1721022288293,
        "secondsFromStart": 0
      },
      {
        "role": "bot",
        "message": "Welcome to EO Care. My name is Julie. I'd like to collect some information from you today. That alright?",
        "time": 1721022290391,
        "endTime": 1721022295616,
        "secondsFromStart": 1.8399999,
        "source": ""
      },
      {
        "role": "user",
        "message": "Sure.",
        "time": 1721022296271,
        "endTime": 1.721022296770999E12,
        "secondsFromStart": 7.72,
        "duration": 2.3400002
      },
      {
        "role": "bot",
        "message": "Great. Let's start with your full name. Could you please tell me your first and last name?",
        "time": 1721022299171,
        "endTime": 1721022303461,
        "secondsFromStart": 10.62,
        "source": ""
      },
      {
        "role": "user",
        "message": "Matthew Ambrose.",
        "time": 1721022304631,
        "endTime": 1721022305771,
        "secondsFromStart": 16.08,
        "duration": 2.1800013
      },
      {
        "role": "bot",
        "message": "Thank you. Let me confirm. First name, m m a t t h e w. Last name, e m b r o s e. Is that correct?",
        "time": 1.721022309830999E12,
        "endTime": 1.721022319650998E12,
        "secondsFromStart": 21.279999,
        "source": ""
      },
      {
        "role": "user",
        "message": "Correct.",
        "time": 1721022319661,
        "endTime": 1721022320161,
        "secondsFromStart": 31.11,
        "duration": 3.0099983
      },
      {
        "toolCalls": [
          {
            "id": "call_cgsBP6O49yUw04dO9mYjeRGu",
            "type": "function",
            "function": {
              "name": "DemoNameService--saveName",
              "arguments": "{\"firstName\": \"Matthew\", \"lastName\": \"Ambrose\"}"
            }
          }
        ],
        "role": "tool_calls",
        "message": "",
        "time": 1721022321067,
        "secondsFromStart": 32.742
      },
      {
        "role": "bot",
        "message": "This will just take a sec.",
        "time": 1721022322801,
        "endTime": 1721022324181,
        "secondsFromStart": 34.25,
        "source": ""
      },
      {
        "role": "tool_call_result",
        "time": 1721022322856,
        "secondsFromStart": 34.531,
        "name": "DemoNameService--saveName",
        "result": "{}",
        "toolCallId": "call_cgsBP6O49yUw04dO9mYjeRGu"
      }
    ],
    "analysis": {
      "summary": "Julie from EO Care collected the user's full name, Matthew Ambrose, to confirm his identity.",
      "successEvaluation": "false"
    },
    "recordingUrl": "https://auth.vapi.ai/storage/v1/object/public/recordings/ef71627d-9673-40f8-8491-31aa3fe7a540-1721022327982-33555c60-b397-4ae7-bc04-ed2eac84e23d-mono.wav",
    "stereoRecordingUrl": "https://auth.vapi.ai/storage/v1/object/public/recordings/ef71627d-9673-40f8-8491-31aa3fe7a540-1721022327983-580d4d8f-acb5-499d-9365-cd31522876be-stereo.wav",
    "call": {
      "id": "ef71627d-9673-40f8-8491-31aa3fe7a540",
      "orgId": "679a13ec-f40d-4055-8959-797c4ee1694b",
      "createdAt": "2024-07-15T05:44:45.926Z",
      "updatedAt": "2024-07-15T05:44:45.926Z",
      "type": "inboundPhoneCall",
      "status": "ringing",
      "phoneCallProvider": "twilio",
      "phoneCallProviderId": "CAcff7566ef44add9365401449bd5e4198",
      "phoneCallTransport": "pstn",
      "phoneNumberId": "5a5a04dc-dcbe-45b1-8f64-fd32a253d135",
      "customer": {
        "number": "+19256836490"
      },
      "assistant": {
        "model": {
          "model": "gpt-4-turbo",
          "messages": [
            {
              "content": "\n[Identity]\nYou are the friendly and helpful voice of EO Care. Your goal is to collect the name,\nbirthday, gender, state, zip code, experience with the product, and contact information\nfrom the user, along with whether they are a patient or caregiver.\n\n[Style]\n- Be friendly and concise.\n- Talk slowly and clearly.\n- Use simple language.\n\n[Response Guideline]\n- Present dates in a clear format (e.g., January 15, 2024).\n- After the user responds to each question, wait for their response before proceeding.\n- If the user says they don't want to answer a question, tell them they have to until they do.\n- Confirm each piece of information with the user before moving on to the next question.\n- If they give a name, state, or email, spell it out for them and ask if that was correct.\n- Whenever the relevant information is given, immediately call the corresponding service to save it.\n\n[Task]\n- Ask for the user's first and last name. If they only give one, ask which name that was and\nask for the other as well.\n- Ask the user if they are a patient or caregiver.\n- Ask for the user's date of birth.\n- Ask whether the user is male or female.\n- Ask for the state the user lives in and their zip code. If they give one but not the other,\nask for the missing information.\n- Ask for the user's experience with cannabis. Suggest the phrases \"first timer\",\n\"somewhat familiar\", and \"experienced\".\n- Ask whether the user would like further information and for their email and phone number.\n- Confirm the user's information and thank them for their time.\n",
              "role": "system"
            }
          ],
          "functions": [
            {
              "name": "DemoNameService--saveName",
              "description": "Save the name of the user",
              "parameters": {
                "type": "object",
                "properties": {
                  "firstName": {
                    "description": "The firstName parameter",
                    "type": "string"
                  },
                  "lastName": {
                    "description": "The lastName parameter",
                    "type": "string"
                  }
                },
                "required": [
                  "firstName",
                  "lastName"
                ]
              }
            },
            {
              "name": "DemoPatientCaregiverService--savePatientCaregiver",
              "description": "Save whether the user is a patient or caregiver",
              "parameters": {
                "type": "object",
                "properties": {
                  "patientCaregiver": {
                    "description": "The patientCaregiver parameter",
                    "type": "string"
                  }
                },
                "required": [
                  "patientCaregiver"
                ]
              }
            },
            {
              "name": "DemoBirthdayService--saveBirthday",
              "description": "Save the birthday of the user",
              "parameters": {
                "type": "object",
                "properties": {
                  "birthday": {
                    "description": "The birthday parameter",
                    "type": "string"
                  }
                },
                "required": [
                  "birthday"
                ]
              }
            },
            {
              "name": "DemoGenderService--saveGender",
              "description": "Save the gender of the user",
              "parameters": {
                "type": "object",
                "properties": {
                  "gender": {
                    "description": "The gender parameter",
                    "type": "string"
                  }
                },
                "required": [
                  "gender"
                ]
              }
            },
            {
              "name": "DemoLocationService--saveStateAndZipCode",
              "description": "Save the state of the user",
              "parameters": {
                "type": "object",
                "properties": {
                  "state": {
                    "description": "The state parameter",
                    "type": "string"
                  },
                  "zipCode": {
                    "description": "The zipCode parameter",
                    "type": "string"
                  }
                },
                "required": [
                  "state",
                  "zipCode"
                ]
              }
            },
            {
              "name": "DemoExperienceService--saveExperience",
              "description": "Save the experience of the user",
              "parameters": {
                "type": "object",
                "properties": {
                  "experience": {
                    "description": "The experience parameter",
                    "type": "string"
                  }
                },
                "required": [
                  "experience"
                ]
              }
            },
            {
              "name": "DemoFurtherInfoService--saveFurtherInfo",
              "description": "Save whether the user wants further information and their contact information",
              "parameters": {
                "type": "object",
                "properties": {
                  "wantsMoreInfo": {
                    "description": "The wantsMoreInfo parameter",
                    "type": "string"
                  },
                  "email": {
                    "description": "The email parameter",
                    "type": "string"
                  },
                  "phone": {
                    "description": "The phone parameter",
                    "type": "string"
                  }
                },
                "required": [
                  "wantsMoreInfo"
                ]
              }
            }
          ],
          "provider": "openai"
        },
        "firstMessage": "\n            Welcome to EO Care! My name is Julie. I'd like to collect some information from you\n            today. Is that alright?\n            ",
        "serverMessages": [
          "end-of-call-report",
          "function-call",
          "hang",
          "status-update",
          "tool-calls",
          "transfer-destination-request",
          "user-interrupted"
        ]
      }
    },
    "phoneNumber": {
      "id": "5a5a04dc-dcbe-45b1-8f64-fd32a253d135",
      "orgId": "679a13ec-f40d-4055-8959-797c4ee1694b",
      "number": "+19254207621",
      "createdAt": "2024-06-29T03:03:00.576Z",
      "updatedAt": "2024-06-29T03:04:32.131Z",
      "stripeSubscriptionId": "sub_1PWrYyCRkod4mKy33cFxM9B7",
      "stripeSubscriptionStatus": "active",
      "stripeSubscriptionCurrentPeriodStart": "2024-06-29T03:02:56.000Z",
      "provider": "twilio"
    },
    "customer": {
      "number": "+19256836490"
    },
    "artifact": {
      "messages": [],
      "messagesOpenAIFormatted": []
    },
    "timestamp": "2024-07-15T05:45:29.814Z"
  }
}
